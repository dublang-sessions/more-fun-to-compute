#!dublang
|repeat 5

vim.env.FREQ = math.random(200) + 100
vim.env.SEED = math.random(10)

#!supercollider
|repeat 1

(
  SynthDef.new(\saw, {
	  arg cutoff = 1000, mul = 0.2, add = 1, freq = 400;
    var sig;
    sig = Saw.ar([30, 60]);
    sig = RLPF.ar(sig, freq, mul, add);
    Out.ar(0, sig);
  }).add;
)

~synth = Synth(\saw);

~synth.set(\add, 1);
~synth.set(\cutoff, 100);
~synth.set(\mul, ${SEED} / 20);
~synth.set(\freq, ${FREQ} * 2);
